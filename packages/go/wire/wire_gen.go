// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package wire

import (
	"github.com/gin-gonic/gin"
	"github.com/google/wire"
	"github.com/shadowfish07/FlexiBook/controllers"
	"github.com/shadowfish07/FlexiBook/repositories"
	"github.com/shadowfish07/FlexiBook/routes"
	"github.com/shadowfish07/FlexiBook/services"
	"github.com/shadowfish07/FlexiBook/storage"
	"github.com/spf13/afero"
)

// Injectors from wire.go:

func InitializeApp(mountDir string, useMemoryFs bool) (*gin.Engine, error) {
	websiteService := services.NewWebsiteService()
	websiteController := controllers.NewWebsiteController(websiteService)
	systemController := controllers.NewSystemController()
	storageStorage := NewStorageWithAfero(mountDir, useMemoryFs)
	database := storage.NewDatabase(storageStorage)
	bookmarkRepository := repositories.NewBookmarkRepository(database)
	bookmarkService := services.NewBookmarkService(bookmarkRepository)
	bookmarkController := controllers.NewBookmarkController(bookmarkService)
	operation := storage.NewOperation(storageStorage)
	operationRepository := repositories.NewOperationRepository(operation)
	bookmarkEntity := services.NewBookmarkEntity(bookmarkService)
	categoryRepository := repositories.NewCategoryRepository(database)
	categoryService := services.NewCategoryService(categoryRepository)
	categoryEntity := services.NewCategoryEntity(categoryService)
	tagRepository := repositories.NewTagRepository(database)
	tagService := services.NewTagService(tagRepository)
	tagEntity := services.NewTagEntity(tagService)
	entity := services.NewEntity(bookmarkEntity, categoryEntity, tagEntity)
	syncService := services.NewSyncService(operationRepository, bookmarkService, entity)
	syncController := controllers.NewSyncController(syncService)
	engine := routes.RegisterRoutes(websiteController, systemController, bookmarkController, syncController)
	return engine, nil
}

// wire.go:

var controllerSet = wire.NewSet(controllers.NewBookmarkController, controllers.NewSyncController, controllers.NewSystemController, controllers.NewWebsiteController)

var repositorySet = wire.NewSet(repositories.NewBookmarkRepository, repositories.NewCategoryRepository, repositories.NewOperationRepository, repositories.NewTagRepository)

var serviceSet = wire.NewSet(services.NewEntity, services.NewBookmarkEntity, services.NewCategoryEntity, services.NewTagEntity, services.NewBookmarkService, services.NewCategoryService, services.NewTagService, services.NewWebsiteService, services.NewSyncService)

var storageSet = wire.NewSet(storage.NewDatabase, storage.NewOperation, NewStorageWithAfero)

func NewStorageWithAfero(mountDir string, useMemoryFs bool) *storage.Storage {
	var fs afero.Fs
	if useMemoryFs {
		fs = afero.NewMemMapFs()
	} else {
		fs = afero.NewOsFs()
	}
	return storage.NewStorage(mountDir, fs)
}
